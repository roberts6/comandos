const express = require("express");
// despuÃ©s de haber generado un proyecto con npm init -y y luego haber instalado express mediante npm install express --save
// ahora lo que hicimos es generar una variable que ejecute express

const app = express();
// esta variable constante lo que hace es ejecutar express

app.use(express.static('public')); 
//aquÃ­ lo que vamos a indicar es que sirva imÃ¡genes, archivos CSS, y archivos JavaScript desde un directorio nombrado 'public' al mismo nivel desde donde llama a node:

//console.log(app);


app.listen(3000, () => console.log("El proceso fue exitoso"));
// este mÃ©todo pone a correr el servidor. Primero vamos a indicar el puerto y luego, de forma optativa, una funciÃ³n.
// para probar puedo entrar al navegador y tipear localhost:3000

/*usandoExpress.get("/", function(req, res){
res.send("Bienvenido Oscar");
});*/

app.get("/contacto", function(req, res){
    res.send("Nuestra direcciÃ³n de correo es: ...");
    });

    app.get("/un-array", function(req, res){
        res.send([1,2,3,4]);
        });


        app.get("/un-objeto", function(req, res){
            res.send({name: "Oscar"});
            });

// app.get lo que hace es montar una ruta que responde a la peticiÃ³n del cliente. Por ejemplo "/" dirige a la raiz de nuestro sitio, "/contacto" a la pÃ¡gina de contacto y asÃ­ sucesivamente.
// el segundo parÃ¡metro es agregar una funciÃ³n. Esta lo que va a hacer es accionar una consecuencia al pedido del cliente.


/* este es un ejemplo de cÃ³mo podrÃ­a enviar una variable que consta de un objeto con propiedades

const express = require('express');
const app = express();

let producto = ({tipoProducto: null, precio: null, cantidad: null});

app.get("/producto/agregar",function (req,res){
    res.send(producto);
}); */

// res.send() no es lo mÃ¡s adecuado si queremos enviar alguna estructura mÃ¡ compleja, por esta razÃ³n express nos provee de res.sendFile(aquÃ­ va la ruta de dÃ³nde se encuentra el archivo que queremos subir. Ej: )

const path = require ('path');

usandoExpress.get("/", function(req, res){
    res.sendFile(path.join(__dirname, "./index.html")
    )});
//el ejemplo anterior es CLAVE para entender cÃ³mo llamar desde js un archivo html. Esta parte res.sendFile(path.join(__dirname, "la ruta del archivo") 

